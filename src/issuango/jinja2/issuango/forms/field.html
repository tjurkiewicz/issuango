{% if not field.is_hidden %}
    <div class="form-group">
        {% block label %}
            {% if not nolabel %}
                <label for="{{ field.auto_id }}" class="col-sm-3 control-label">{{ field.label|safe }}</label>
            {% endif %}
        {% endblock label %}

        {% block widget %}
            <div class="col-sm-9 {% if 'CheckboxInput' == field_type(field) %}togglebutton{% endif %}">
                {% if 'CheckboxInput' == field_type(field)  %}
                    <label for="{{ field.auto_id }}">
                        {{ field }}
                    </label>
                {% elif 'RadioSelect' == field_type(field) %}
                    <label for="{{ field.auto_id }}" class="controls {% if field.field.required %}required{% endif %}">
                        {{ field }}
                    </label>
                {% else %}
                    {{ render_with_class(field, 'form-control') }}
                {% endif %}

                {% block errors %}
                    {% for error in field.errors %}
                        <span class="error-block"><i class="icon-exclamation-sign"></i> {{ error }}</span>
                    {% endfor %}
                {% endblock %}

                {% block help_text %}
                    {% if field.help_text %}
                        <span class='help-block'>{{ field.help_text|safe }}</span>
                    {% endif %}
                {% endblock %}
            </div>
        {% endblock widget %}
    </div>
{% else %}
    {{ field }}
{% endif %}